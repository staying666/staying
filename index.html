<!DOCTYPE html>
<html>
<head>
  <title>PFP Vaults</title>
</head>
<body style="background:black; color:white; font-family:sans-serif;">

  <h1>PFP Vaults</h1>

  <!-- Input to create vault -->
  <input type="text" id="vaultName" placeholder="Enter vault name">
  <button onclick="createVault()">Create Vault</button>

  <!-- Vaults will appear here -->
  <div id="vaults" style="margin-top:20px;"></div>


  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    // ðŸ”¥ REPLACE THIS WITH YOUR FIREBASE CONFIG
    const firebaseConfig = {
      apiKey: "PASTE_HERE",
      authDomain: "PASTE_HERE",
      projectId: "PASTE_HERE",
      storageBucket: "PASTE_HERE",
      messagingSenderId: "PASTE_HERE",
      appId: "PASTE_HERE"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Create vault
    window.createVault = async function () {
      const nameInput = document.getElementById("vaultName");
      const name = nameInput.value.trim();

      if (!name) {
        alert("Enter vault name");
        return;
      }

      await addDoc(collection(db, "vaults"), {
        name: name,
        createdAt: Date.now()
      });

      nameInput.value = "";
      loadVaults();
    };

    // Load vaults
    async function loadVaults() {
      const container = document.getElementById("vaults");
      container.innerHTML = "";

      const q = query(collection(db, "vaults"), orderBy("createdAt", "desc"));
      const snapshot = await getDocs(q);

      snapshot.forEach((doc) => {
        const data = doc.data();

        const div = document.createElement("div");
        div.style.padding = "10px";
        div.style.margin = "10px 0";
        div.style.background = "#111";
        div.style.border = "1px solid blue";

        div.innerText = data.name;

        container.appendChild(div);
      });
    }

    loadVaults();
  </script>

</body>
</html>
