<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Just / Staying PFP Vaults</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: black;
    color: white;
    overflow-x: hidden;
  }

  h1 {
    text-align: center;
    margin: 20px 0;
    color: white;
    text-shadow: 0 0 10px #00f;
  }

  /* buton create vault */
  #createVaultBtn {
    display: block;
    margin: 0 auto 20px auto;
    padding: 12px 25px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    background-color: #00f;
    color: white;
    cursor: pointer;
  }

  #createVaultBtn:hover {
    background-color: #0055ff;
  }

  /* sparkles */
  @keyframes sparkle {
    0% {transform: translateY(0) translateX(0);}
    50% {transform: translateY(50px) translateX(50px);}
    100% {transform: translateY(0) translateX(0);}
  }
  .sparkle {
    position: absolute;
    width: 3px;
    height: 3px;
    background: white;
    border-radius: 50%;
    animation: sparkle 3s infinite;
    opacity: 0.7;
  }

  .vaults-container, .images-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin: 20px;
  }

  .vault {
    width: 200px;
    height: 140px;
    background: #111;
    border: 2px solid #00f;
    border-radius: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .vault button {
    margin-top: 5px;
    padding: 5px 10px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background: #00f;
    color: white;
  }

  .images-container img {
    width: 100px;
    height: 100px;
    border-radius: 10px;
    object-fit: cover;
    border: 2px solid #00f;
  }

  body::after {
    content: "";
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    background: linear-gradient(to bottom, rgba(0,0,255,0.1), transparent);
    pointer-events: none;
  }

</style>
</head>
<body>

<h1>Just / Staying PFP Vaults</h1>
<button id="createVaultBtn" onclick="createVault()">Create Vault</button>

<div class="vaults-container" id="vaults"></div>
<div class="images-container" id="images"></div>

<script>
// ðŸ”¹ Vaults stocate Ã®n localStorage
let vaults = JSON.parse(localStorage.getItem('vaults')) || {};

function saveVaults() {
  localStorage.setItem('vaults', JSON.stringify(vaults));
}

function createVault() {
  const name = prompt("Enter vault name:");
  if (!name) return alert("Name cannot be empty!");
  if (vaults[name]) return alert("Vault already exists!");
  vaults[name] = [];
  saveVaults();
  renderVaults();
}

function renderVaults() {
  const container = document.getElementById('vaults');
  container.innerHTML = '';
  document.getElementById('images').innerHTML = '';
  for (let name in vaults) {
    const vaultDiv = document.createElement('div');
    vaultDiv.className = 'vault';
    vaultDiv.innerHTML = `
      <div style="font-weight:bold">${name}</div>
      <div style="font-size:14px">${vaults[name].length} images</div>
      <button onclick="uploadImages('${name}',event)">Upload</button>
      <button onclick="viewVault('${name}',event)">View Vault</button>
    `;
    container.appendChild(vaultDiv);
  }
}

function uploadImages(vaultName, e) {
  e.stopPropagation(); // nu deschide vault-ul
  const input = document.createElement('input');
  input.type = 'file';
  input.multiple = true;
  input.onchange = (event)=>{
    for (let file of event.target.files) {
      const reader = new FileReader();
      reader.onload = e => {
        vaults[vaultName].push(e.target.result);
        saveVaults();
      };
      reader.readAsDataURL(file);
    }
    setTimeout(()=>viewVault(vaultName), 200);
  };
  input.click();
}

function viewVault(vaultName, e) {
  if(e) e.stopPropagation();
  const imagesDiv = document.getElementById('images');
  imagesDiv.innerHTML = '';
  vaults[vaultName].forEach(src=>{
    const img = document.createElement('img');
    img.src = src;
    imagesDiv.appendChild(img);
  });
}

// Initial render
renderVaults();

// sparkles dinamice
for(let i=0;i<50;i++){
  const s=document.createElement('div');
  s.className='sparkle';
  s.style.top=Math.random()*100+'%';
  s.style.left=Math.random()*100+'%';
  s.style.width=(Math.random()*3+2)+'px';
  s.style.height=s.style.width;
  s.style.animationDuration=(Math.random()*3+2)+'s';
  document.body.appendChild(s);
}
</script>
</body>
</html>
